{% extends 'uniconnect_app/base.html' %}
{% load comments %}
{% block content %}
<div class="container" style="width:40%">
    <h3>{{post.subject|title}}</h3>
    <h4>By <i>{{post.author.username}} </i></h4>
    {% if tags %}
    <h4>Tags: 
        {% for tag in tags %}
        <a href="/tag/{{tag.tag.tag}}/">{{tag.tag.tag}}</a>
        </i>
        {% endfor %}
        {% endif %}

    </h4>
        <p><i>Published on </i> {{ post.post_date }} </p>
    <p> {{post.content}} </p>
    {% get_comment_count for post as comment_count %}
    <p>{{ comment_count }} comments have been posted.</p>
    {% render_comment_list for post %}
</div>
    {% get_comment_form for post as form %}
<!-- A context variable called form is created with the necessary hidden
fields, timestamps and security hashes -->
<table>
  <form action="{% comment_form_target %}" method="post">
    {% csrf_token %}
    {{ form }}
    <tr>
      <td colspan="2">
        <input type="submit" name="submit" value="Post">
        <input type="submit" name="preview" value="Preview">
      </td>
    </tr>
  </form>
</table>
{% endblock %}
